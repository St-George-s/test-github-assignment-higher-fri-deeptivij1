CREATE DATABASE IF NOT EXISTS project1;
USE project1;

DROP TABLE IF EXISTS Doctor;
DROP TABLE IF EXISTS Slot;
DROP TABLE IF EXISTS Appointment;
DROP TABLE IF EXISTS Patient;

-- All create statements DDL
CREATE TABLE IF NOT EXISTS Doctor(
  doctorID INT PRIMARY KEY AUTO_INCREMENT,
  fullName VARCHAR(50) NOT NULL
  speciality VARCHAR(20) NOT NULL CHECK (speciality IN ('General', 'Sports', 'Dermatology', 'Oncology', 'Paediatrics', 'Radiology', 'Obs/Gynae', 'Cardiology', 'Psychiatry', 'ENT', 'Other')) 
  roomNo INT NOT NULL
);

CREATE TABLE IF NOT EXISTS Slot(
  slotID INT AUTO_INCREMENT PRIMARY KEY 
  doctorID INT NOT NULL
  startTime DATETIME NOT NULL CHECK (2025-12-01 09:00:00 <= startTime <= 2025-12-05 16:30:00)
  endTime DATETIME NOT NULL CHECK (2025-12-01 09:30:00 <= startTime <= 2025-12-05 17:00:00)
  isAvailable BOOLEAN NOT NULL
  FOREIGN KEY (doctorID) REFERENCES Doctor(doctorID)
);

CREATE TABLE IF NOT EXISTS Appointment(
  apptID INT AUTO_INCREMENT PRIMARY KEY
  slotID INT NOT NULL
  patientID INT NOT NULL
  note VARCHAR(40)
  FOREIGN KEY (slotID) REFERENCES Slot(slotID)
  FOREIGN KEY (patientID) REFERENCES Patient(patientID)
);

CREATE TABLE IF NOT EXISTS Patient(
  patientID INT AUTO_INCREMENT PRIMARY KEY
  fullName VARCHAR(50) NOT NULL
  dob DATE NOT NULL CHECK (dob < 2025-12-05)
  email VARCHAR(30) NOT NULL
);

-- INSERT statements
-- DML
INSERT INTO Doctor(fullName, speciality, roomNo)
VALUES
('Dr. Alice Morgan', 'General', 101),
('Dr. Brian Osei', 'General', 102),
('Dr. Carla Ruiz', 'Sports', 103),
('Dr. Daniel Foster', 'Sports', 104),
('Dr. Emma Chen', 'Dermatology', 105),
('Dr. Faisal Khan', 'Oncology', 106),
('Dr. Grace Holloway', 'Oncology', 107),
('Dr. Hannah Patel', 'Paediatrics', 108),
('Dr. Ivan Petrov', 'Paediatrics', 109),
('Dr. Julia Roberts', 'Radiology', 110),
('Dr. Kevin Mensah', 'Obs/Gynae', 111),
('Dr. Linda Okafor', 'Obs/Gynae', 112),
('Dr. Michael Stone', 'Cardiology', 113),
('Dr. Nadia Al-Sayed', 'Psychiatry', 114),
('Dr. Oliver Brown', 'ENT', 115),
('Dr. Priya Nair', 'Other', 116),
('Dr. Quentin Blake', 'Other', 117),
('Dr. Rosa Martinez', 'Other', 118);
;

SELECT *
FROM Doctor;

INSERT INTO Slot(doctorID, startTime, endTime, isAvailable)
VALUES
('Dr. Alice Morgan', 'General', 101),
('Dr. Brian Osei', 'General', 102),
('Dr. Carla Ruiz', 'Sports', 103),
('Dr. Daniel Foster', 'Sports', 104),
('Dr. Emma Chen', 'Dermatology', 105),
('Dr. Faisal Khan', 'Oncology', 106),
('Dr. Grace Holloway', 'Oncology', 107),
('Dr. Hannah Patel', 'Paediatrics', 108),
('Dr. Ivan Petrov', 'Paediatrics', 109),
('Dr. Julia Roberts', 'Radiology', 110),
('Dr. Kevin Mensah', 'Obs/Gynae', 111),
('Dr. Linda Okafor', 'Obs/Gynae', 112),
('Dr. Michael Stone', 'Cardiology', 113),
('Dr. Nadia Al-Sayed', 'Psychiatry', 114),
('Dr. Oliver Brown', 'ENT', 115),
('Dr. Priya Nair', 'Other', 116),
('Dr. Quentin Blake', 'Other', 117),
('Dr. Rosa Martinez', 'Other', 118);
;

INSERT Patient(doctoId, startTime, endTime, isAvailable)
VALUES
-- Mon
(3,'2025-12-01 09:00','2025-12-01 09:30',TRUE),
(7,'2025-12-01 09:00','2025-12-01 09:30',TRUE),
(12,'2025-12-01 09:30','2025-12-01 10:00',TRUE),
(5,'2025-12-01 09:30','2025-12-01 10:00',TRUE),
(18,'2025-12-01 10:00','2025-12-01 10:30',TRUE),
(2,'2025-12-01 10:00','2025-12-01 10:30',TRUE),
(9,'2025-12-01 10:30','2025-12-01 11:00',TRUE),
(14,'2025-12-01 10:30','2025-12-01 11:00',TRUE),
(6,'2025-12-01 11:00','2025-12-01 11:30',TRUE),
(1,'2025-12-01 11:00','2025-12-01 11:30',TRUE),
(4,'2025-12-01 11:30','2025-12-01 12:00',TRUE),
(10,'2025-12-01 11:30','2025-12-01 12:00',TRUE),
(15,'2025-12-01 13:00','2025-12-01 13:30',TRUE),
(8,'2025-12-01 13:00','2025-12-01 13:30',TRUE),
(17,'2025-12-01 13:30','2025-12-01 14:00',TRUE),
(11,'2025-12-01 13:30','2025-12-01 14:00',TRUE),
(3,'2025-12-01 14:00','2025-12-01 14:30',TRUE),
(6,'2025-12-01 14:00','2025-12-01 14:30',TRUE),
(18,'2025-12-01 14:30','2025-12-01 15:00',TRUE),
(2,'2025-12-01 14:30','2025-12-01 15:00',TRUE),
(7,'2025-12-01 15:00','2025-12-01 15:30',TRUE),
(13,'2025-12-01 15:00','2025-12-01 15:30',TRUE),
(5,'2025-12-01 15:30','2025-12-01 16:00',TRUE),
(9,'2025-12-01 15:30','2025-12-01 16:00',TRUE),
(16,'2025-12-01 16:00','2025-12-01 16:30',TRUE),
(4,'2025-12-01 16:00','2025-12-01 16:30',TRUE),
(12,'2025-12-01 16:30','2025-12-01 17:00',TRUE),
(1,'2025-12-01 16:30','2025-12-01 17:00',TRUE),

-- Tue
(6,'2025-12-02 09:00','2025-12-02 09:30',TRUE),
(11,'2025-12-02 09:00','2025-12-02 09:30',TRUE),
(17,'2025-12-02 09:30','2025-12-02 10:00',TRUE),
(3,'2025-12-02 09:30','2025-12-02 10:00',TRUE),
(10,'2025-12-02 10:00','2025-12-02 10:30',TRUE),
(15,'2025-12-02 10:00','2025-12-02 10:30',TRUE),
(2,'2025-12-02 10:30','2025-12-02 11:00',TRUE),
(18,'2025-12-02 10:30','2025-12-02 11:00',TRUE),
(7,'2025-12-02 11:00','2025-12-02 11:30',TRUE),
(9,'2025-12-02 11:00','2025-12-02 11:30',TRUE),
(1,'2025-12-02 11:30','2025-12-02 12:00',TRUE),
(14,'2025-12-02 11:30','2025-12-02 12:00',TRUE),
(13,'2025-12-02 13:00','2025-12-02 13:30',TRUE),
(5,'2025-12-02 13:00','2025-12-02 13:30',TRUE),
(16,'2025-12-02 13:30','2025-12-02 14:00',TRUE),
(8,'2025-12-02 13:30','2025-12-02 14:00',TRUE),
(12,'2025-12-02 14:00','2025-12-02 14:30',TRUE),
(4,'2025-12-02 14:00','2025-12-02 14:30',TRUE),
(17,'2025-12-02 14:30','2025-12-02 15:00',TRUE),
(6,'2025-12-02 14:30','2025-12-02 15:00',TRUE),
(3,'2025-12-02 15:00','2025-12-02 15:30',TRUE),
(10,'2025-12-02 15:00','2025-12-02 15:30',TRUE),
(15,'2025-12-02 15:30','2025-12-02 16:00',TRUE),
(2,'2025-12-02 15:30','2025-12-02 16:00',TRUE),
(18,'2025-12-02 16:00','2025-12-02 16:30',TRUE),
(7,'2025-12-02 16:00','2025-12-02 16:30',TRUE),
(9,'2025-12-02 16:30','2025-12-02 17:00',TRUE),
(1,'2025-12-02 16:30','2025-12-02 17:00',TRUE),

-- Wed
(4,'2025-12-03 09:00','2025-12-03 09:30',TRUE),
(8,'2025-12-03 09:00','2025-12-03 09:30',TRUE),
(12,'2025-12-03 09:30','2025-12-03 10:00',TRUE),
(6,'2025-12-03 09:30','2025-12-03 10:00',TRUE),
(15,'2025-12-03 10:00','2025-12-03 10:30',TRUE),
(1,'2025-12-03 10:00','2025-12-03 10:30',TRUE),
(9,'2025-12-03 10:30','2025-12-03 11:00',TRUE),
(18,'2025-12-03 10:30','2025-12-03 11:00',TRUE),
(7,'2025-12-03 11:00','2025-12-03 11:30',TRUE),
(13,'2025-12-03 11:00','2025-12-03 11:30',TRUE),
(3,'2025-12-03 11:30','2025-12-03 12:00',TRUE),
(16,'2025-12-03 11:30','2025-12-03 12:00',TRUE),
(11,'2025-12-03 13:00','2025-12-03 13:30',TRUE),
(5,'2025-12-03 13:00','2025-12-03 13:30',TRUE),
(14,'2025-12-03 13:30','2025-12-03 14:00',TRUE),
(2,'2025-12-03 13:30','2025-12-03 14:00',TRUE),
(17,'2025-12-03 14:00','2025-12-03 14:30',TRUE),
(10,'2025-12-03 14:00','2025-12-03 14:30',TRUE),
(6,'2025-12-03 14:30','2025-12-03 15:00',TRUE),
(12,'2025-12-03 14:30','2025-12-03 15:00',TRUE),
(1,'2025-12-03 15:00','2025-12-03 15:30',TRUE),
(8,'2025-12-03 15:00','2025-12-03 15:30',TRUE),
(18,'2025-12-03 15:30','2025-12-03 16:00',TRUE),
(4,'2025-12-03 15:30','2025-12-03 16:00',TRUE),
(9,'2025-12-03 16:00','2025-12-03 16:30',TRUE),
(15,'2025-12-03 16:00','2025-12-03 16:30',TRUE),
(7,'2025-12-03 16:30','2025-12-03 17:00',TRUE),
(11,'2025-12-03 16:30','2025-12-03 17:00',TRUE),

-- Thur
(2,'2025-12-04 09:00','2025-12-04 09:30',TRUE),
(10,'2025-12-04 09:00','2025-12-04 09:30',TRUE),
(14,'2025-12-04 09:30','2025-12-04 10:00',TRUE),
(6,'2025-12-04 09:30','2025-12-04 10:00',TRUE),
(18,'2025-12-04 10:00','2025-12-04 10:30',TRUE),
(3,'2025-12-04 10:00','2025-12-04 10:30',TRUE),
(9,'2025-12-04 10:30','2025-12-04 11:00',TRUE),
(15,'2025-12-04 10:30','2025-12-04 11:00',TRUE),
(1,'2025-12-04 11:00','2025-12-04 11:30',TRUE),
(12,'2025-12-04 11:00','2025-12-04 11:30',TRUE),
(5,'2025-12-04 11:30','2025-12-04 12:00',TRUE),
(17,'2025-12-04 11:30','2025-12-04 12:00',TRUE),
(8,'2025-12-04 13:00','2025-12-04 13:30',TRUE),
(11,'2025-12-04 13:00','2025-12-04 13:30',TRUE),
(4,'2025-12-04 13:30','2025-12-04 14:00',TRUE),
(16,'2025-12-04 13:30','2025-12-04 14:00',TRUE),
(6,'2025-12-04 14:00','2025-12-04 14:30',TRUE),
(13,'2025-12-04 14:00','2025-12-04 14:30',TRUE),
(18,'2025-12-04 14:30','2025-12-04 15:00',TRUE),
(9,'2025-12-04 14:30','2025-12-04 15:00',TRUE),
(2,'2025-12-04 15:00','2025-12-04 15:30',TRUE),
(15,'2025-12-04 15:00','2025-12-04 15:30',TRUE),
(7,'2025-12-04 15:30','2025-12-04 16:00',TRUE),
(12,'2025-12-04 15:30','2025-12-04 16:00',TRUE),
(1,'2025-12-04 16:00','2025-12-04 16:30',TRUE),
(10,'2025-12-04 16:00','2025-12-04 16:30',TRUE),
(5,'2025-12-04 16:30','2025-12-04 17:00',TRUE),
(14,'2025-12-04 16:30','2025-12-04 17:00',TRUE),


-- Fri
(3,'2025-12-05 09:00','2025-12-05 09:30',TRUE),
(8,'2025-12-05 09:00','2025-12-05 09:30',TRUE),
(11,'2025-12-05 09:30','2025-12-05 10:00',TRUE),
(6,'2025-12-05 09:30','2025-12-05 10:00',TRUE),
(14,'2025-12-05 10:00','2025-12-05 10:30',TRUE),
(2,'2025-12-05 10:00','2025-12-05 10:30',TRUE),
(9,'2025-12-05 10:30','2025-12-05 11:00',TRUE),
(18,'2025-12-05 10:30','2025-12-05 11:00',TRUE),
(1,'2025-12-05 11:00','2025-12-05 11:30',TRUE),
(12,'2025-12-05 11:00','2025-12-05 11:30',TRUE),
(5,'2025-12-05 11:30','2025-12-05 12:00',TRUE),
(16,'2025-12-05 11:30','2025-12-05 12:00',TRUE),
(4,'2025-12-05 13:00','2025-12-05 13:30',TRUE),
(7,'2025-12-05 13:00','2025-12-05 13:30',TRUE),
(15,'2025-12-05 13:30','2025-12-05 14:00',TRUE),
(10,'2025-12-05 13:30','2025-12-05 14:00',TRUE),
(6,'2025-12-05 14:00','2025-12-05 14:30',TRUE),
(13,'2025-12-05 14:00','2025-12-05 14:30',TRUE),
(18,'2025-12-05 14:30','2025-12-05 15:00',TRUE),
(9,'2025-12-05 14:30','2025-12-05 15:00',TRUE),
(2,'2025-12-05 15:00','2025-12-05 15:30',TRUE),
(11,'2025-12-05 15:00','2025-12-05 15:30',TRUE),
(1,'2025-12-05 15:30','2025-12-05 16:00',TRUE),
(8,'2025-12-05 15:30','2025-12-05 16:00',TRUE),
(12,'2025-12-05 16:00','2025-12-05 16:30',TRUE),
(5,'2025-12-05 16:00','2025-12-05 16:30',TRUE),
(17,'2025-12-05 16:30','2025-12-05 17:00',TRUE),
(14,'2025-12-05 16:30','2025-12-05 17:00',TRUE);